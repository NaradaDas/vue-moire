"use strict";(self["webpackChunkmoire_build"]=self["webpackChunkmoire_build"]||[]).push([[964],{387:function(e){function t(e){var t=[].slice.call(arguments,1),l=0;return e.replace(/%d/g,(function(){return t[l++]}))}function l(e){return e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}e.exports=function(e,o,a,n,i){if(!e)return t(o,e);switch(l(e)){case 0:return t(a,e);case 1:return t(n,e);default:return t(i,e)}}},4908:function(e,t,l){function o(){const e=l(387),t=t=>e(t,"Товаров нет","%d товар","%d товара","%d товаров"),o=e=>new Intl.NumberFormat("ru-RU").format(e),a=e=>{const t={red:"Красный",blue:"Синий",green:"Зеленый",yellow:"Желтый",purple:"Фиолетовый",pink:"Розовый",black:"Черный",white:"Белый"};return t[e.toLowerCase().trim()]},n=e=>!!e.gallery&&e.gallery[0].file.url;return{findImage:n,translateColorName:a,editNumberFormat:o,pluralizeProductAmount:t}}l.d(t,{Z:function(){return o}})},4929:function(e,t,l){l.d(t,{Z:function(){return p}});var o=l(3396),a=l(7139);const n=["src"];function i(e,t,l,i,s,r){return e.loading?((0,o.wg)(),(0,o.iD)("div",(0,a.vs)((0,o.dG)({key:0},e.$attrs)),[(0,o._)("img",{src:e.PRELOADER_BIG_URL,alt:"Прелоадер"},null,8,n)],16)):e.failed?(0,o.WI)(e.$slots,"default",(0,a.vs)((0,o.dG)({key:1},e.$attrs))):(0,o.kq)("",!0)}var s=l(86),r=l(678),c=l(4870),d=(0,o.aZ)({props:["loading","failed"],setup(e){const t=(0,c.Vh)(e,"failed"),l=(0,r.yj)().name,a=(0,r.tv)();return(0,o.YP)((()=>t.value),(e=>{e&&"product"===l&&a.push({name:"notFound"})})),{PRELOADER_BIG_URL:s.wo}}}),u=l(89);const _=(0,u.Z)(d,[["render",i]]);var p=_},9712:function(e,t,l){l.d(t,{Z:function(){return p}});var o=l(3396),a=l(7139);const n={style:{position:"relative"}},i=["src"];function s(e,t,l,s,r,c){return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("img",{src:r.ERROR_IMAGE_URL,alt:"Ошибка"},null,8,i),(0,o._)("div",{class:(0,a.C_)([{"basket-item":"basket"===r.pageName},"error-text"])}," Не удалось найти изображение ",2)])}var r=l(86),c=l(678),d={data(){return{ERROR_IMAGE_URL:r.bg,pageName:(0,c.yj)().name}}},u=l(89);const _=(0,u.Z)(d,[["render",s]]);var p=_},3964:function(e,t,l){l.r(t),l.d(t,{default:function(){return Ye}});var o=l(3396),a=l(7139);const n=(0,o._)("div",{style:{display:"none"}},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,o._)("symbol",{id:"icon-arrow-left"},[(0,o._)("path",{fill:"none",d:"M6.319 11.034l-5-5 5-5",stroke:"#222"})]),(0,o._)("symbol",{id:"icon-arrow-right"},[(0,o._)("path",{fill:"none",d:"M1.25 11.034l5-5-5-5",stroke:"#222"})]),(0,o._)("symbol",{id:"icon-arrow",viewBox:"0 0 10 6"},[(0,o._)("path",{d:"M1 1l4 4 4-4",stroke:"#000","stroke-linecap":"round"})]),(0,o._)("symbol",{id:"icon-cart",viewBox:"0 0 19 24"},[(0,o._)("path",{fill:"#000","fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.895.752c-2.6 0-4.779 1.955-4.779 4.45v.684H4.094a2.5 2.5 0\n           00-2.497 2.372l-.65 12.686a2.5 2.5 0\n           002.496 2.628h12.903a2.5 2.5 0\n           002.497-2.628l-.65-12.686a2.5 2.5 0\n           00-2.497-2.372h-1.023v-.685c0-2.494-2.178-4.45-4.778-4.45zm4.778 8.362a.854.854 0\n            01-.5 1.55.856.856 0 01-.5-1.55V6.886H6.116v2.228a.855.855\n             0 01-.5 1.55.856.856 0 01-.5-1.55V6.886H4.094a1.5 1.5 0\n           00-1.499 1.423l-.65 12.686a1.5 1.5 0\n           001.498 1.577h12.903a1.5 1.5 0\n           001.498-1.577l-.65-12.686a1.5 1.5 0\n           00-1.498-1.423h-1.023v2.228zm-1-3.228v-.685c0-1.868-1.653-3.45-3.778-3.45-2.126\n            0-3.779 1.582-3.779 3.45v.685h7.557z"})]),(0,o._)("symbol",{id:"icon-close",viewBox:"0 0 18 18"},[(0,o._)("path",{d:"M17 1L1 17m16 0L1 1",stroke:"#9D9D9D","stroke-width":".8"})]),(0,o._)("symbol",{id:"icon-facebook",viewBox:"0 0 17 17"},[(0,o._)("path",{d:"M15.454 0H1.545C.692 0 0 .692 0 1.545v13.91C0 16.308.692 17 1.545\n           17h7.728v-6.954H6.955V7.727h2.318V6.482c0-2.356 1.148-3.391 3.107-3.391.938\n           0 1.434.07 1.669.101V5.41h-1.336c-.831 0-1.122.439-1.122 1.328v.99h2.437l-.33\n           2.319H11.59V17h3.864c.853 0 1.545-.692 1.545-1.546V1.545A1.544 1.544 0\n           0015.454 0z"})]),(0,o._)("symbol",{id:"icon-insta",viewBox:"0 0 17 17"},[(0,o._)("path",{d:"M4.957 0A4.964 4.964 0\n           000 4.96v7.083A4.964 4.964 0\n           004.96 17h7.083A4.964 4.964 0\n           0017 12.04V4.957A4.964 4.964 0\n           0012.04 0H4.957zm8.501 2.833a.709.709 0 110 1.418.709.709 0 010-1.418zM8.5 4.25a4.254\n           4.254 0 014.25 4.25 4.254 4.254 0 01-4.25 4.25A4.254 4.254 0 014.25 8.5 4.254 4.254\n           0 018.5 4.25zm0 1.417a2.833 2.833 0 100 5.666 2.833 2.833 0\n           000-5.666z"})]),(0,o._)("symbol",{id:"icon-minus",viewBox:"0 0 9 3"},[(0,o._)("path",{d:"M8.287 2.574H.7V.765h7.587v1.809z"})]),(0,o._)("symbol",{id:"icon-plus",viewBox:"0 0 12 12"},[(0,o._)("path",{d:"M6.524 11.086h-1.43v-4.51H.54V5.102h4.554V.57h1.43v4.532h4.554v1.474H6.524v4.51z"})]),(0,o._)("symbol",{id:"icon-search",viewBox:"0 0 20 20"},[(0,o._)("path",{"clip-rule":"evenodd",d:"M13.224 3.097A7.16 7.16 0 113.097 13.224 7.16 7.16 0 0113.224 3.097zm.728\n           10.813a8.16 8.16 0\n           10-.042.042l-.7.7 5.049 5.05a1.02\n           1.02 0\n           101.442-1.443l-5.049-5.05-.7.7z"})]),(0,o._)("symbol",{id:"icon-telegram",viewBox:"0 0\n       19\n       17"},[(0,o._)("path",{d:"M.393 7.855l4.324\n           1.614\n           1.674 5.383a.509.509 0 00.809.243l2.41-1.965a.72.72 0 01.877-.024l4.348\n            3.156a.51.51 0 00.798-.308L18.818.634a.51.51 0 00-.682-.58L.388 6.902a.51.51\n             0 00.005.954zm5.729.755l8.451-5.206c.152-.093.308.112.178.233l-6.975 6.484a1.446\n           1.446 0 00-.448.865l-.238\n           1.76c-.031.236-.362.26-.426.032L5.75 9.567a.851.851 0 01.372-.957z"})]),(0,o._)("symbol",{id:"icon-twitter",viewBox:"0 0\n       18\n       15"},[(0,o._)("path",{d:"M17.062 2.007a7.009 7.009 0 01-2.01.55A3.51 3.51 0 0016.59.62a6.989 6.989\n           0 01-2.222.85 3.5 3.5 0 00-5.965 3.194 9.94 9.94 0 01-7.215-3.659c-.3.519-.473\n           1.12-.473\n           1.76a3.5 3.5 0 001.557 2.914 3.492 3.492 0 01-1.586-.438v.045a3.502 3.502 0\n            002.808 3.432 3.526 3.526 0 01-1.58.06 3.502 3.502 0 003.27 2.43A7.025 7.025 0 010\n           12.659a9.9 9.9 0 005.365\n           1.574c6.44 0 9.96-5.334 9.96-9.96 0-.15-.004-.302-.01-.452a7.116 7.116\n            0 001.745-1.81l.002-.003z"})]),(0,o._)("symbol",{id:"icon-vk",viewBox:"0 0 20\n       11"},[(0,o._)("path",{"clip-rule":"evenodd",d:"M19.541.745c.14-.43 0-.745-.662-.745h-2.188c-.556 0-.812.273-.951.573\n           0 0-1.113 2.512-2.69 4.143-.51.473-.741.623-1.02.623-.138\n           0-.347-.15-.347-.58V.745c0-.515-.154-.745-.618-.745H7.627c-.348\n            0-.557.24-.557.466 0 .488.788.6.87\n           1.975v2.984c0 .654-.128.773-.406.773-.742 0-2.546-2.523-3.617-5.41C3.707.227\n            3.497 0 2.938 0H.75C.125 0 0 .273 0 .573c0 .537.742 3.199 3.454 6.72C5.262 9.696 7.809\n           11\n           10.127\n           11c1.391 0\n           1.563-.29\n           1.563-.788V8.395c0-.58.132-.695.572-.695.325 0 .881.15 2.18\n           1.31\n           1.483\n           1.374\n           1.727 1.99 2.562 1.99h2.188c.625 0\n           .938-.29.757-.86-.197-.57-.905-1.396-1.845-2.375-.51\n           -.558-1.275-1.16-1.507-1.46-.324-.387-.232-.558\n            0-.902\n            0 0 2.666-3.477 2.944-4.658z"})])])],-1),i={class:"content container"},s={class:"content__top"},r={class:"content__row"},c=(0,o._)("h1",{class:"content__title"},"Каталог",-1),d={class:"content__info"},u={class:"content__catalog"},_={class:"catalog"},p=(0,o.Uk)(" Не удалось загрузить список товаров, попробуйте перезагрузить страницу. "),g={key:1,class:"catalog__list"};function m(e,t,l,m,f,k){const h=(0,o.up)("CatalogLimitSelector"),b=(0,o.up)("CatalogFilter"),v=(0,o.up)("BaseBigLoader"),y=(0,o.up)("CatalogItem"),w=(0,o.up)("BasePagination");return(0,o.wg)(),(0,o.iD)(o.HY,null,[n,(0,o._)("main",i,[(0,o._)("div",s,[(0,o.Wm)(h,{modelValue:e.pageSettings.limit,"onUpdate:modelValue":t[0]||(t[0]=t=>e.pageSettings.limit=t)},null,8,["modelValue"]),(0,o._)("div",r,[c,(0,o._)("span",d,(0,a.zw)(e.totalProductQuantity),1)])]),(0,o._)("div",u,[(0,o.Wm)(b,{categoryId:e.pageSettings.categoryId,pageSettings:e.pageSettings,"onUpdate:pageSettings":t[1]||(t[1]=t=>e.pageSettings=t)},null,8,["categoryId","pageSettings"]),(0,o._)("section",_,[e.loading||e.failed?((0,o.wg)(),(0,o.j4)(v,{key:0,class:"catalog__list loader",loading:e.loading,failed:e.failed},{default:(0,o.w5)((()=>[p])),_:1},8,["loading","failed"])):(0,o.kq)("",!0),e.loading||e.failed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("ul",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.productsData,(e=>((0,o.wg)(),(0,o.j4)(y,{key:e.id,product:e},null,8,["product"])))),128))])),(0,o.Wm)(w,{pages:e.pagesNumber,page:e.pageSettings.page,"onUpdate:page":t[2]||(t[2]=t=>e.pageSettings.page=t)},null,8,["pages","page"])])])])],64)}var f=l(9242);const k={class:"filter"},h={class:"form__block"},b=(0,o._)("legend",{class:"form__legend"},"Цена",-1),v={class:"form__label form__label--price"},y=(0,o._)("span",{class:"form__value"},"От",-1),w={class:"form__label form__label--price"},C=(0,o._)("span",{class:"form__value"},"До",-1),x={class:"form__block"},I=(0,o._)("legend",{class:"form__legend"},"Категория",-1),V={class:"form__label form__label--select"},P=(0,o._)("option",{value:0,selected:""},"Все категории",-1),S=["value"],D={class:"form__block"},H=(0,o._)("legend",{class:"form__legend"},"Цвет",-1),j={class:"colors"},z={class:"colors__label colors__label-hover"},F=["onUpdate:modelValue"],O={class:"form__block"},B=(0,o._)("legend",{class:"form__legend"},"Материал",-1),M={class:"check-list"},E={class:"check-list__label"},R=["onUpdate:modelValue"],L={class:"check-list__desc"},Z={class:"form__block"},U=(0,o._)("legend",{class:"form__legend"},"Коллекция",-1),N={class:"check-list"},A={class:"check-list__label"},Y=["onUpdate:modelValue"],q={class:"check-list__desc"},$={key:0,class:"filter__submit button button--primery error"},W={key:1,class:"filter__submit button button--primery",type:"submit"};function K(e,t,l,n,i,s){return(0,o.wg)(),(0,o.iD)("aside",k,[(0,o._)("form",{class:"filter__form form",action:"#",onSubmit:t[7]||(t[7]=(0,f.iM)((t=>e.filterCatalog(e.filterSettings)),["prevent"]))},[(0,o._)("fieldset",h,[b,(0,o._)("label",v,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"number",name:"min-price","onUpdate:modelValue":t[0]||(t[0]=t=>e.filterSettings.minPrice=t)},null,512),[[f.nr,e.filterSettings.minPrice,void 0,{number:!0}]]),y]),(0,o._)("label",w,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"number",name:"max-price","onUpdate:modelValue":t[1]||(t[1]=t=>e.filterSettings.maxPrice=t)},null,512),[[f.nr,e.filterSettings.maxPrice,void 0,{number:!0}]]),C])]),(0,o._)("fieldset",x,[I,(0,o._)("label",V,[(0,o.wy)((0,o._)("select",{class:"form__select",name:"category","onUpdate:modelValue":t[2]||(t[2]=t=>e.filterSettings.categoryId=t)},[P,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.propertiesForFilter.categories,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,a.zw)(e.title),9,S)))),128))],512),[[f.bM,e.filterSettings.categoryId]])])]),(0,o._)("fieldset",D,[H,(0,o._)("ul",j,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.propertiesForFilter.colors,(l=>((0,o.wg)(),(0,o.iD)("li",{key:l.id,class:"colors__item"},[(0,o._)("label",z,[(0,o.wy)((0,o._)("input",{class:"colors__radio sr-only","onUpdate:modelValue":t=>e.colorCheckboxes[`${l.id}`]=t,type:"checkbox",onClick:t[3]||(t[3]=(...t)=>e.collectCheckboxElements&&e.collectCheckboxElements(...t))},null,8,F),[[f.e8,e.colorCheckboxes[`${l.id}`]]]),(0,o._)("span",{class:"colors__value",style:(0,a.j5)([{backgroundColor:l.code,border:"1px solid"+(27===l.id?" #e2e2e2":" transparent")}])},null,4)])])))),128))])]),(0,o._)("fieldset",O,[B,(0,o._)("ul",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.propertiesForFilter.materials,(l=>((0,o.wg)(),(0,o.iD)("li",{key:l.id,class:"check-list__item"},[(0,o._)("label",E,[(0,o.wy)((0,o._)("input",{class:"check-list__check sr-only",type:"checkbox","onUpdate:modelValue":t=>e.materialCheckboxes[`${l.id}`]=t,onClick:t[4]||(t[4]=(...t)=>e.collectCheckboxElements&&e.collectCheckboxElements(...t))},null,8,R),[[f.e8,e.materialCheckboxes[`${l.id}`]]]),(0,o._)("span",L,[(0,o.Uk)((0,a.zw)(l.title)+" ",1),(0,o._)("span",null,"("+(0,a.zw)(l.productsCount)+")",1)])])])))),128))])]),(0,o._)("fieldset",Z,[U,(0,o._)("ul",N,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.propertiesForFilter.seasons,(l=>((0,o.wg)(),(0,o.iD)("li",{key:l.id,class:"check-list__item"},[(0,o._)("label",A,[(0,o.wy)((0,o._)("input",{class:"check-list__check sr-only",type:"checkbox","onUpdate:modelValue":t=>e.seasonCheckboxes[`${l.id}`]=t,onClick:t[5]||(t[5]=(...t)=>e.collectCheckboxElements&&e.collectCheckboxElements(...t))},null,8,Y),[[f.e8,e.seasonCheckboxes[`${l.id}`]]]),(0,o._)("span",q,[(0,o.Uk)((0,a.zw)(l.title)+" ",1),(0,o._)("span",null,"("+(0,a.zw)(l.productsCount)+")",1)])])])))),128))])]),e.isInvalid?((0,o.wg)(),(0,o.iD)("div",$," Максимальная цена должна быть меньше минимальной ")):((0,o.wg)(),(0,o.iD)("button",W,"Применить")),e.isFiltered?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"filter__reset button button--second",type:"button",onClick:t[6]||(t[6]=(0,f.iM)(((...t)=>e.filterReset&&e.filterReset(...t)),["prevent"]))}," Сбросить ")):(0,o.kq)("",!0)],32)])}var G=l(4870),Q=l(4078),J=(0,o.aZ)({props:["pageSettings"],setup(e,{emit:t}){const{fetchPropertiesForFilter:l,propertiesForFilter:a}=(0,Q.Z)();l();const n=(0,G.qj)({}),i=(0,G.qj)({}),s=(0,G.qj)({}),r=(0,G.qj)({}),c=(0,G.iH)(!1),d=(0,G.iH)(!1),u=(0,G.qj)([]),_=e=>{e.target.checked?u.push(e.target):u.splice(u.indexOf(e.target),1)},p=()=>{const e=(0,G.iH)([]);Object.values(n).forEach((t=>{"object"===typeof t?Object.values(t).forEach((t=>e.value.push(Number(t)))):e.value.push(Number(t))})),c.value=e.value.some((e=>e>0)),d.value=n.minPrice&&n.maxPrice&&n.minPrice>n.maxPrice},g=l=>{t("update:pageSettings",Object.assign(e.pageSettings,l))},m=()=>{g({page:1,categoryId:0,minPrice:0,maxPrice:0,colorIds:[],materialIds:[],seasonIds:[]});const e=e=>{e.forEach((e=>{Reflect.ownKeys(e).forEach((t=>Reflect.deleteProperty(e,t)))}))};e([i,s,r,n]),n.categoryId=0,u.forEach((e=>Reflect.deleteProperty(u,e)))};(0,o.YP)((()=>Object.assign({},n)),p);const f=e=>{(0,o.YP)(e.reduce(((e,t)=>[...e,()=>Object.assign({},t.obj)]),[]),(()=>{e.forEach((e=>{n[e.key]=Object.entries(e.obj).reduce(((e,[t,l])=>l?[...e,t]:e),[])}))}))};return f([{obj:i,key:"colorIds"},{obj:s,key:"materialIds"},{obj:r,key:"seasonIds"}]),localStorage.getItem("categoryId")&&(n.categoryId=Number(localStorage.getItem("categoryId"))),(0,o.YP)((()=>n.categoryId),(e=>{localStorage.setItem("categoryId",e)})),{filterReset:m,collectCheckboxElements:_,isInvalid:d,renderSettings:p,isFiltered:c,filterCatalog:g,colorCheckboxes:i,materialCheckboxes:s,seasonCheckboxes:r,filterSettings:n,propertiesForFilter:a}}}),T=l(89);const X=(0,T.Z)(J,[["render",K]]);var ee=X;const te={class:"catalog__item"},le=["src","alt"],oe={class:"catalog__title"};function ae(e,t,l,a,n,i){const s=(0,o.up)("BaseImageNotFound"),r=(0,o.up)("router-link"),c=(0,o.up)("BaseProductView"),d=(0,o.up)("BaseModal");return(0,o.wg)(),(0,o.iD)("li",te,[(0,o.Wm)(r,{class:"catalog__pic product-link",to:{name:"product",params:{id:e.product.id}}},{default:(0,o.w5)((()=>[e.image?((0,o.wg)(),(0,o.iD)("img",{key:1,src:e.image,alt:e.product.title},null,8,le)):((0,o.wg)(),(0,o.j4)(s,{key:0}))])),_:1},8,["to"]),(0,o._)("h3",oe,[(0,o._)("a",{href:"#",onClick:t[0]||(t[0]=(0,f.iM)((t=>e.isQuickViewOpen=!0),["prevent"]))}," Быстрый просмотр ")]),(0,o.Wm)(d,{open:e.isQuickViewOpen,"onUpdate:open":t[1]||(t[1]=t=>e.isQuickViewOpen=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{"product-id":e.product.id},null,8,["product-id"])])),_:1},8,["open"])])}var ne=l(9712);const ie=(0,o._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,o._)("g",{id:"color"}),(0,o._)("g",{id:"hair"}),(0,o._)("g",{id:"skin"}),(0,o._)("g",{id:"skin-shadow"}),(0,o._)("g",{id:"line"},[(0,o._)("line",{x1:"0",x2:"20",y1:"0",y2:"20",fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2"}),(0,o._)("line",{x1:"20",x2:"0",y1:"0",y2:"20",fill:"none",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"2"})])],-1),se=[ie];function re(e,t,l,n,i,s){return e.open?((0,o.wg)(),(0,o.j4)(o.lR,{key:0,to:"#teleport-target"},[(0,o._)("div",{class:(0,a.C_)([{"out-content":e.isOutContent},"teleport-blackout"])},null,2),(0,o._)("div",{class:"teleport-modal",onClick:t[3]||(t[3]=(...t)=>e.onOutsideClick&&e.onOutsideClick(...t))},[(0,o._)("div",{ref:"contentElement",onMouseleave:t[1]||(t[1]=t=>e.isOutContent=!0),onMouseenter:t[2]||(t[2]=t=>e.isOutContent=!1),class:"teleport-modal__content"},[(0,o.WI)(e.$slots,"default"),(0,o._)("button",{type:"button",class:"teleport-modal__close close",onClick:t[0]||(t[0]=(...t)=>e.doClose&&e.doClose(...t))},se)],544)])])):(0,o.kq)("",!0)}const ce=(0,G.iH)(new Set);function de(){const{uid:e}=(0,o.FN)(),t=(0,G.iH)(!1),l=()=>{t.value=!0,ce.value.add(e)},a=()=>{t.value=!1,ce.value.delete(e)},n=(0,o.Fl)((()=>!!ce.value.size)),i=()=>{n.value?n.value&&(document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px",document.body.style.overflow="hidden"):(document.body.style.overflow=null,document.body.style.paddingRight=null)};return(0,o.YP)(n,(()=>{i()})),{doOpen:l,doClose:a,isOpen:t,isSomeOpen:(0,o.Fl)((()=>ce.value.size))}}var ue=(0,o.aZ)({props:{open:{type:Boolean}},setup(e,{emit:t}){const l=(0,G.iH)(null),{doOpen:a,doClose:n}=de(),i=(0,G.iH)(!0),s=()=>{t("update:open",!1),n()},r=e=>{e.target!==l.value&&e.target.contains(l.value)&&s()};return(0,o.YP)((()=>e.open),(e=>{e?a():s()}),{immediate:!0}),{isOutContent:i,onOutsideClick:r,doClose:s,contentElement:l}}});const _e=(0,T.Z)(ue,[["render",re]]);var pe=_e,ge=l(4908),me=(0,o.aZ)({components:{BaseImageNotFound:ne.Z,BaseModal:pe,BaseProductView:(0,o.RC)({loader:()=>Promise.all([l.e(413),l.e(519)]).then(l.bind(l,3413)),loadingComponent:()=>(0,o.h)("div","Загрузка компонента..."),delay:0})},props:{product:{type:Object,required:!0}},setup(e){const{editNumberFormat:t}=(0,ge.Z)(),l=(0,G.iH)(t(e.product.price)),o=(0,G.iH)(e.product.colors[0].gallery?e.product.colors[0].gallery[0].file.url:e.product.colors[1].gallery[0].file.url),a=e=>{null===e.gallery?o.value="":o.value=e.gallery[0].file.url},n=(0,G.iH)(!1);return{isQuickViewOpen:n,changeImage:a,price:l,image:o}}});const fe=(0,T.Z)(me,[["render",ae]]);var ke=fe;const he={class:"catalog__pagination pagination"},be={class:"pagination__item"},ve=(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-left"})],-1),ye=[ve],we=["onClick"],Ce={class:"pagination__item"},xe=(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-right"})],-1),Ie=[xe];function Ve(e,t,l,n,i,s){return(0,o.wg)(),(0,o.iD)("ul",he,[(0,o._)("li",be,[(0,o._)("a",{href:"#",class:(0,a.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===e.page}]),"aria-label":"Предыдущая страница",onClick:t[0]||(t[0]=(0,f.iM)((t=>e.changePage(e.page-1)),["prevent"]))},ye,2)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.pages,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"pagination__item",key:t},[(0,o._)("a",{href:"#",class:(0,a.C_)(["pagination__link",{"pagination__link--current":t===e.page}]),onClick:(0,f.iM)((l=>e.changePage(t)),["prevent"])},(0,a.zw)(t),11,we)])))),128)),(0,o._)("li",Ce,[(0,o._)("a",{class:(0,a.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":e.page===e.pages}]),href:"#","aria-label":"Следующая страница",onClick:t[1]||(t[1]=(0,f.iM)((t=>e.changePage(e.page+1)),["prevent"]))},Ie,2)])])}var Pe=(0,o.aZ)({props:["pages","page"],setup(e,{emit:t}){const l=l=>{l<1||l>e.pages||t("update:page",l)};return{changePage:l}}});const Se=(0,T.Z)(Pe,[["render",Ve]]);var De=Se,He=l(4929);const je={class:"content__limit limit"},ze={class:"limit__field"},Fe=(0,o._)("legend",{class:"form__legend"},"Колличество товаров на одной странице",-1),Oe={class:"limit__list"},Be={class:"limit__label limit__label-hover"},Me=["id","onClick"],Ee={class:"limit__value",style:{backgroundColor:"white"}};function Re(e,t,l,n,i,s){return(0,o.wg)(),(0,o.iD)("div",je,[(0,o._)("fieldset",ze,[Fe,(0,o._)("ul",Oe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.limitVariety,((t,l)=>((0,o.wg)(),(0,o.iD)("li",{key:l,class:"limit__item"},[(0,o._)("label",Be,[(0,o._)("input",{id:`limit-${t}`,class:"limit__radio sr-only",name:"limit",type:"radio",onClick:l=>e.changeLimit(t)},null,8,Me),(0,o._)("span",Ee,(0,a.zw)(t),1)])])))),128))])])])}var Le=(0,o.aZ)({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const l=[12,24,32],a=e=>{localStorage.setItem("pageLimit",e),t("update:modelValue",e)};return(0,o.bv)((()=>{document.getElementById(`limit-${e.modelValue}`).checked=!0})),{changeLimit:a,limitVariety:l}}});const Ze=(0,T.Z)(Le,[["render",Re]]);var Ue=Ze,Ne=(0,o.aZ)({components:{CatalogLimitSelector:Ue,CatalogFilter:ee,CatalogItem:ke,BasePagination:De,BaseBigLoader:He.Z},setup(){const{fetchProductList:e,status:t,productsData:l,pagesNumber:a}=(0,Q.Z)(),n=(0,G.qj)({page:1,limit:localStorage.getItem("pageLimit")?Number(localStorage.getItem("pageLimit")):12,categoryId:localStorage.getItem("categoryId")?Number(localStorage.getItem("categoryId")):0,minPrice:0,maxPrice:0,colorIds:[],materialIds:[],seasonIds:[]}),i=(0,G.iH)(""),{pluralizeProductAmount:s}=(0,ge.Z)();return e(n).then((e=>{i.value=s(e.data.pagination.total)})),(0,o.YP)((()=>Object.assign({},n)),(t=>{e(t).then((e=>{i.value=s(e.data.pagination.total)}))}),{flush:"post"}),(0,o.m0)((()=>{})),{totalProductQuantity:i,pagesNumber:a,pageSettings:n,productsData:l,loading:(0,G.Vh)(t,"isCatalogLoading"),failed:(0,G.Vh)(t,"isCatalogLoadingFailed")}}});const Ae=(0,T.Z)(Ne,[["render",m]]);var Ye=Ae}}]);
//# sourceMappingURL=964.c5bcd69b.js.map